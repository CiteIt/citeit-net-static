    <main class="mt-4 mx-auto max-w-7xl px-4 sm:px-6 ">
        
      <div class="top_pic_slogan  lg:grid lg:grid-cols-12 lg:gap-8">

        <div id="building-trust" class="md:mx-left lg:col-span-12 lg:text-left">
          <h1>
            <span class="mt-1 block text-4xl tracking-tight font-extrabold sm:text-5xl">
              <span class="block font-header text-gray-900">Building trust in media</span>
            </span>
          </h1>
          <p id="citeit-description" class="mt-3 mb-3 text-base text-gray-500 sm:mt-5 sm:text-xl lg:text-lg xl:text-xl">
            CiteIt is developing new <span class="text-blue-600 font-extrabold">digital tools</span> that help <span class="text-red-300 font-extrabold">combat misinformation</span> and <span class="text-red-300 font-extrabold">selective quotations</span>.
            These tools show the context surrounding the quoted media in order to build trust and understanding.
          </p>

            <div class="video-caption">Watch our video to learn more</div>
        </div>
      

      </div>
        
        <div id="video" class="video_thumbnail w-4/5 mt-0 mb-5 relative sm:mx-  lg:mt-0 lg:max-w-none lg:mx-0 lg:col-span-12 lg:flex">
            <button type="button" class="relative block w-full bg-white overflow-hidden focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500">
              
              <!--iframe id="iframe_video" class="iframe_video" src="https://www.youtube.com/embed/8r42TmdqSqk"></iframe-->

              <a href="https://youtu.be/8r42TmdqSqk"  target="iframe_video" title="There is a Cherry-Picked Quote on the Jefferson Memorial, Washington, DC">
                <picture>
                    <source srcset="/assets/images/jefferson-memorial-statue-panorama-1-854x480.webp" type="image/webp">
                    <source srcset="/assets/images/jefferson-memorial-statue-panorama-1-854x480.jpg" type="image/jpeg">
                    <img src="/assets/images/jefferson-memorial-statue-panorama-1-854x480.jpg" alt="Jefferson Memorial Statue Panoroma, Washington, DC" width="854" height="480">
                </picture>
              </a>
              <span class="text-base text-gray-500 " >Did you know there is a Cherry-picked quote on the Jefferson Memorial? &nbsp;&nbsp;  <span style="white-space: nowrap;">Readers can <strong class="text-blue-600">trust citations</strong> made with CiteIt.</span></span>
              
                <div class="absolute inset-0 flex items-center justify-center" aria-hidden="true">
                <svg class="h-20 w-20 text-blue-500" fill="currentColor" viewBox="0 0 84 84">
                  <circle opacity="0.9" cx="42" cy="42" r="42" fill="white" />
                  <path d="M55.5039 40.3359L37.1094 28.0729C35.7803 27.1869 34 28.1396 34 29.737V54.263C34 55.8604 35.7803 56.8131 37.1094 55.9271L55.5038 43.6641C56.6913 42.8725 56.6913 41.1275 55.5039 40.3359Z" />
                </svg>
              </div>
            </button>
          
        </div>

        <div id="homepage_option_buttons" class="mt-2 mb-2 w-4/5 md:mx-left lg:col-span-6 lg:text-left">
          <div class="mt-2 ml-2sm:mt-2 ml-2 sm:flex ml-0 sm:justify-left lg:justify-center mt-3 mb-3 text-base text-gray-500 sm:mt-3 sm:text-xl lg:text-lg xl:text-xl"> 
            <div class="rounded-md shadow">
              <a href="/demo/" class="w-full flex items-center justify-center px-8 py-3 border border-transparent text-base font-medium text-white bg-blue-600 hover:bg-blue-700 md:text-lg">
                See Demos
              </a>
            </div>
            <div class="mt-3 sm:mt-0 sm:ml-3">
              <a href="/try" class="w-full flex items-center justify-center px-8 py-3 border border-transparent text-base font-medium text-blue-700 bg-blue-100 hover:bg-blue-200 md:text-lg">
                Use CiteIt
              </a>
            </div>
          </div>
        </div>

        <section class="bg-white overflow-hidden">
          <div class="relative max-w-7xl mx-auto pb-12 px-4 sm:px-6 lg:px-8 lg:mt-16">
            <div id="callout-quote-1" class="mt-10 p-4 border bg-yellow-200 lg:absolute lg:left-24 lg:-top-20 animate-pulse"
                >
                Click on text in blue box below to see the quote in context.
            </div>

            <div class="relative lg:flex lg:items-center">
                <div class="relative mt-16 lg:ml-10 lg:order-2">
                    <svg class="absolute top-0 left-0 transform -translate-x-4 -translate-y-8 h-12 w-12 text-blue-200 opacity-100" stroke="currentColor" fill="none" viewBox="0 0 144 144" aria-hidden="true">
                        <path stroke-width="4" d="M41.485 15C17.753 31.753 1 59.208 1 89.455c0 24.664 14.891 39.09 32.109 39.09 16.287 0 28.386-13.03 28.386-28.387 0-15.356-10.703-26.524-24.663-26.524-2.792 0-6.515.465-7.446.93 2.327-15.821 17.218-34.435 32.11-43.742L41.485 15zm80.04 0c-23.268 16.753-40.02 44.208-40.02 74.455 0 24.664 14.891 39.09 32.109 39.09 15.822 0 28.386-13.03 28.386-28.387 0-15.356-11.168-26.524-25.129-26.524-2.792 0-6.049.465-6.98.93 2.327-15.821 16.753-34.435 31.644-43.742L121.525 15z" />
                    </svg>
                    
                    <div class="text-lg leading-9 font-medium text-gray-900 lg:text-xl">
                        <div id="nothing_is-more_certainly">
                            <p class="bg-blue-300 p-4 border bg-opacity-60 cursor-pointer hover:bg-blue-300 lg:p-8 shadow">
                                <q cite="https://avalon.law.yale.edu/19th_century/jeffauto.asp">Nothing is more certainly written in the book of fate than that these people are to be free.</q>
                            </p>
                        </div>
                    </div>

                    <footer class="mt-8">
                        <div class="flex">
                            <div class="ml-10 lg:ml-10">
                                <div class="text-base font-semibold text-gray-900">Thomas Jefferson, &nbsp; <a class="underline" href="https://avalon.law.yale.edu/19th_century/jeffauto.asp#:~:text=Nothing%20is%20more%20certainly%20written%20in%20the%20book%20of%20fate%20than%20that%20these%20people%20are%20to%20be%20free.">Autobiography</a>  </div>
                                <div class="text-base font-medium text-gray-900">Founding Father of USA &nbsp; (<a target="_blank" class="underline" href="https://www.citeit.net/2018/01/06/cherry-picked-quotations-on-the-jefferson-memorial/">Learn More</a>) </div>
                            </div>
                        </div>
                    </footer>

                </div>
              </div>
          </div>  
        </section>
      

    <h3 id="test-drive" class="mt-2 text-3xl leading-8 font-extrabold font-header tracking-tight text-gray-900 sm:text-4xl">Test-drive CiteIt!</h3>
    <p class="mt-2 mb-1"><strong>Create your own sample citation</strong> by entering a quote below along with the URL on which the quote is located.<br />
    <p>(If you need ideas, you can <span class="highlight"><strong>use <a class="underline" target="_blank" href="https://news.google.com/">Google News</a> as a source</strong> for sample quotes</span>).</p>

    <!--http://localhost/post_quote-->
    <form id="test-submssion" class="test-submission" method="GET">

        <h4>Quote:</h4>
        <input type="hidden" id="citing_url" name="citing_url" value="" />

        <textarea id="citing_quote" name="citing_quote" rows="4" cols="65"
          onclick="document.getElementById('quote').text = '';"
        >Drink at least one-half of your body weight in ounces of water daily</textarea>

        <h4>URL:</h4>
        <input class="url" id="cited_url" name="cited_url" type="text" 
            onclick="document.getElementById('test-submssion').reset();"
            value="https://www.nytimes.com/2021/02/07/sports/football/tom-brady-super-bowl-age.html"
          /><br />

        <!--input type="submit" value="Test" class="w-full mt-4 flex items-center justify-center px-8 py-3 border border-transparent text-base font-medium text-white bg-blue-600 hover:bg-blue-700 md:text-lg" / -->
               
        <input id="submit_test_citation" class="w-full mt-4 flex items-center justify-center px-8 py-3 border border-transparent text-base font-medium text-white bg-blue-600 hover:bg-blue-700 md:text-lg" size="25" type="submit" 
          onclick="process_test_citation(); return false;" value="Create Test Citation" />

        <div id="loading">
          <div id="circle6"></div>
          <div id="submission-progress">
            <ul id="progress_list"></ul>          
          </div>
        </div><br />
      
      <div id="submission-results" class="hidden">

        <h4 style="font-size: 1.8em; font-weight: bold;">Submission Results</h4>
        <p class="mb-4"><span class="highlight">Click the <strong>quote in the blue box</strong> below</span> to <strong>view the contextual popup</strong>:</p>
        <div id="sample-quote-container">
              <q id='sample-quote' cite="https://www.nytimes.com/2021/02/07/sports/football/tom-brady-super-bowl-age.html">Drink at least one-half of your body weight in ounces of water daily</q>
        </div>

        <h4 style="font-size: 1.2em">Switch View Type</h4>
        <input onclick="swap_citation_type('sample-quote', 'q');" type="radio" id="popup" name="citation_type" value="popup" checked>
        <label for="popup">Contextual Popup</label><br>
        <input onclick="swap_citation_type('sample-quote', 'blockquote');" type="radio" id="expand" name="citation_type" value="expand">
        <label for="expand">Expanding blockquote</label><br>

      </div>

    </form>

    </main>
  <!--/div-->
  <!--/div-->

<!--/div-->

<style>

  .video-caption {
    text-align: center;
    color: #aaa;
    width: 854px;
  }
  
  div#loading {
    visibility: hidden;
  }

  div#circle6.hidden {
    visibility: hidden
  }

  div#submission-results.hidden {
    display: none;
  }

  div#submission-results.visible {
    display: visible;
  }

  div#loading.visible, div#submission-results.visible {
    visibility: visible;
    display: visible;
  }

  .hidden {
    display: hidden;
  }

  p#citeit-description {
    text-align: left;
    max-width: 600px;
  }
  div#building-trust {
    clear: left;
  }
  div#example {
    margin-top: 100px;
  }
  #test-drive {
    margin-top: 15px;
  }

  textarea, input.url {
    border: 1px solid #95b7e5;
    background-color: #e8f0f2;
    max-width:100%;
    padding: 15px;
  }
  input.url {
    width: 540px;
    height: 40px;
  }
  input[type=submit]{
    width: 300px;
  }
  input[type=text]:focus {
    border: 3px solid #555;
  }

  form.test-submission h4 {
    color: #2666bb;
    font-weight: 600;
    margin: 20px 0 5px 0;
  }

  form.test-submission span.label {
    color: #545de9;
  }

  form.test-submission span.example {
    color: #666;
  }

  form.test-submission {
    margin-bottom: 40px;
  }

  q#sample-quote { 
    font-size: 145%;
    width: 625px;
    display: block;
    padding: 30px;
  }

  div#todo {
    color: #545de9 !important;
  }

  ul#progress_list {
    margin-left: 25px;
  }

#circle6 {
  display: block;
  position: absolute;
  height: 50px;
  width: 50px;
  margin: -55px 0 0 325px;
  border: 4px rgba(0, 0, 0, 0.25) solid;
  border-top: 10px #008744 solid;
  border-right: 10px #0057e7 solid;
  border-bottom: 10px #d62d20 solid;
  border-left: 10px #ffa700 solid;
  border-radius: 50%;
  -webkit-animation: spin6 1s infinite linear;
          animation: spin6 1s infinite linear;
}

@-webkit-keyframes spin6 {
  from {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
  to {
    -webkit-transform: rotate(359deg);
            transform: rotate(359deg);
  }
}
@keyframes spin6 {
  from {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
  to {
    -webkit-transform: rotate(359deg);
            transform: rotate(359deg);
    -webkit-transform: rotate(359deg);
            transform: rotate(359deg);
  }
}
/** END of circle6 */


.col-sm-2 {
  padding: 10px;
  border-radius: 4px;
  height: 125px;
  margin-bottom: 10px;
}

</style>

<script>

// Default Base URL to current URL (www.citeit.net or localhost:8080 )
document.getElementById('citing_url').value = window.location.href;

	
function swap_citation_type(tag_id, tag_type){
  // Convert <blockquote> to <q> and vice versa

  replace_tag(tag_id, tag_type);
	jQuery('#' + tag_id).quoteContext();

}

function replace_tag(tag_id, tag_type){

  var div_id = 'sample-quote-container';

  var url = jQuery('#' + tag_id).val('#' + tag_id).attr("cite");
  
  if (tag_type === 'blockquote') {
    // Get text from existing q tag, which has an anchor tag
    var text = jQuery('#' + tag_id + ' > a').text();
  }
  else {
    var text = jQuery('#' + tag_id).text();
  }
  
  // Build blockquote/q  element:
  var new_div = document.createElement(tag_type);
  new_div.setAttribute('id', tag_id);
  new_div.setAttribute('cite', url);
  new_div.textContent = text;

  // Build Replacement div:
  var replacement_div = document.createElement('div');
  replacement_div.setAttribute('id', div_id);
  replacement_div.appendChild(new_div);

  jQuery('div#' + div_id).replaceWith(function(){
    return replacement_div; 
  });

}

function append_element(id, element_message, sleep_ms){
  setTimeout(function(){
    var message = document.createElement('div');
    message.innerHTML = element_message;
    document.getElementById(id).appendChild(message);

  }, sleep_ms);

}

var message_cnt = 0;   

function process_test_citation() {

  citing_quote = document.getElementById('citing_quote');
  citing_url = document.getElementById('citing_url');
  cited_url = document.getElementById('cited_url');

  var tag_type = 'blockquote';
  var hash_key = quoteHashKey(citing_quote, citing_url, cited_url);

  // Javascript uses utf-16.  Convert to utf-8
  hash_key = encode_utf8(hash_key);
  console.log(hash_key);
  var hash_value = forge_sha256(hash_key);
  console.log(hash_value);

  var shard = hash_value.substring(0, 2);
  var read_base = "https://read.citeit.net/quote/";
  var read_url = read_base.concat("sha256/", webservice_version_num, "/",
      shard, "/", hash_value, ".json");
  var json = null;

  // Submit this quote to lookup
  jQuery.ajax({
      type: "GET",
      url: 'http://localhost/post_quote',
      data: {
        citing_url: citing_url,
        citing_quote: citing_quote,
        cited_url: cited_url
      },
      dataType: "json",
      success: function(json) {
          addQuoteToDom(tag_type, json, cited_url);

          console.log("CiteIt Found: " + read_url);
          console.log("       Quote: " + citing_quote);
      },
      error: function() {
          console.log("CiteIt Missed: " + read_url);
          console.log("       Quote: " + citing_quote);
      }
  });


  // Display 'Loading circle'
  jQuery('#loading').addClass('visible');

  // Return data from API
  var submission_steps = [
        "<b>Contacting CiteIt webservice ..</b>",
        "Looking up source from URL ..",
        "Locating quotation ..", 
        "Copying 500 characters before and after quotation.",
        "Saving context data in JSON format.",
        "Loading JSON data into current page using javascript.",
        "<b>Submission Complete..</b>"
    ];

  // Print first message immediately: don't wait:
  if (message_cnt == 0) {
    var message = submission_steps[message_cnt];
    jQuery('ul#progress_list').append('<li>' + message + '</li>');  
    message_cnt++;
  }

  // Pause for 2 seconds before printing other messages
  setTimeout(function() {   
    var message = submission_steps[message_cnt];
    jQuery('ul#progress_list li:last').append('<li>' + message + '</li>');  

    message_cnt++;
    if (message_cnt < 7) {
      process_test_citation() 
    }
    else {
      jQuery('#submission-results').removeClass('hidden');
      jQuery('#submission-results').addClass('visible');
      jQuery('#submission-results').addClass('visible');
      jQuery('#circle6').addClass('hidden');
 
    }
  }, 1500)
}

  function citation() {
      return {
          showHomePageQuoteContext(event) {
              let quoteRect = event.target.getBoundingClientRect();
              let quoteContextElement = document.getElementById('quote-context-1');
              quoteContextElement.style.top = '0px';
              quoteContextElement.style.left = quoteRect.left + 'px';
              quoteContextElement.style.width = quoteRect.width + 'px';
              quoteContextElement.style.display = "block";
              let contextRect = quoteContextElement.getBoundingClientRect();
              quoteContextElement.style.top = (quoteRect.top + window.scrollY - contextRect.height/2 + quoteRect.height/2) + 'px';
              quoteContextElement.style.opacity = 1;
              let newContextRect = quoteContextElement.getBoundingClientRect();
              let calloutElement = document.getElementById('callout-quote-1');
              calloutElement.classList.remove('animate-pulse');

          }
      }
  }

  function homePageQuoteContext() {
    return {
        closeQuoteContext(event) {
          let quoteContextElement = document.getElementById('quote-context-1');
          quoteContextElement.style.opacity = 0
          setTimeout(function () {
            quoteContextElement.style.display = "none";
          }, 2000);
        }
    }
  }

  // Add Hidden div with context to DOM
  function addQuoteToDom(tag_type, json, cited_url) {

      // lookup html for video ui and icon
      var embed_ui = embedUi(cited_url, json, tag_type);

      if (tag_type === "q") {
          var q_id = "hidden_" + json.sha256;
          var url_cited_domain = json.cited_url.replace('http://','').replace('https://','').replace('www.','').split(/[/?#]/)[0];

          //Add content to a hidden div, so that the popup can later grab it
          jQuery("#" + hidden_container).append(
              "<div id='" + q_id + "' class='highslide-maincontent'>" + 
              embed_ui.html + "<br />.. " + 
              json.cited_context_before + " " + " <span class='q-tag-highlight'><strong>" +
              json.citing_quote + "</strong></span> " +
              json.cited_context_after + ".. </p>" +
              "<p><a href='" + json.cited_url +
              "' target='_blank'>Read more</a> | " +
              "<a href='javascript:closePopup(" +
              q_id + ");'>Close</a> <div class='source_url'>source: <a href='" + json.cited_url + "'>" + url_cited_domain + "</a> </p></div>"
          );

          //Style quote as a link that calls the popup expander:
          blockcite.wrapInner("<a class='popup_quote' href='" + blockcite.attr("cite") + "' " +
              "onclick='expandPopup(this ,\"" + q_id + "\"); return false;' " +
              " />");
      } else if (tag_type === "blockquote") {

          //Fill 'before' and 'after' divs and then quickly hide them
          blockcite.before("<div id='quote_before_" + json.sha256 + "' class='quote_context'>"
            + "<blockquote class='quote_context'>"
                + "<span class='context_header'>Context Before:</span>"
                + "<div class='tooltip'><span class='tooltip_icon'>?</span><span class='tooltiptext'>CiteIt.net displays the 500 characters of Context immediately before and after the quote</span></div><br />" 
                + embed_ui.html + " .. " + json.cited_context_before  
            + "</blockquote></div>"
);

          blockcite.after("<div id='quote_after_" + json.sha256 + "' class='quote_context'>"
              + "<blockquote class='quote_context'>"
                + ".. " + json.cited_context_after + " .."
                + "<br /><span class='context_header'>Context After:</span>" 
              + "<div class='tooltip'><span class='tooltip_icon'>?</span><span class='tooltiptext'>CiteIt.net displays the 500 characters immediately before and after the quote</span></div>" 
            + "</blockquote></div>" 
          );

          var context_before = jQuery("#quote_before_" + json.sha256);
          var context_after = jQuery("#quote_after_" + json.sha256);

          context_before.hide();
          context_after.hide();

          if (json.cited_context_before.length > 0) {
              context_before.before("<div class='quote_arrows up-arrow' id='context_up_" + json.sha256 + "'> \
              <a id='quote_arrow_up_" + json.sha256 + "' \
                  href=\"javascript:toggleQuote('quote_arrow_up', 'quote_before_" + json.sha256 + "');\">&#9650;</a> " + trimDefault(embed_ui.icon) +
                  "</div>"
              );
          }
          if (json.cited_context_after.length > 0) {
              context_after.after("<div class='quote_arrows down-arrow' id='context_down_" + json.sha256 + "'> \
              <div class='citeit_source'><span class='source'>source: </span> \
              <a class='citeit_source_domain' href='" + json.cited_url + "'>" + extractDomain(json.cited_url) + "</a></div> \
              <a class='down_arrow' id='quote_arrow_down_" + json.sha256 + "' \
              href=\"javascript:toggleQuote('quote_arrow_down', 'quote_after_" + json.sha256 + "');\">&#9660;</a></div>");
          }

      } // elseif (tag_type === 'blockquote')
  } // end: function add_quote_to_dom


</script>		